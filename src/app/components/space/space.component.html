<section class="space-showcase container" aria-labelledby="space-title">
  <header class="space-head">
    <div>
      <h2 id="space-title" class="space-title">The Space</h2>
      <p class="space-tagline">Take a look inside our cozy, creative venues</p>
    </div>
    <button class="space-toggle" type="button" (click)="toggleGrid()">
      {{ asGrid ? 'Show carousel' : 'Show grid' }}
    </button>
  </header>

  <div
    class="track"
    [class.grid]="asGrid"
    #track
    tabindex="0"
    role="list"
    (keydown)="onKey($event)"
  >
    <article class="card" role="listitem" *ngFor="let s of items; let i = index" (click)="openModal(s)">
      <div class="media">
        <img [src]="s.imageUrl" [alt]="s.alt || ('Photo ' + (i+1))" loading="lazy" decoding="async" />
        </div>
    </article>
  </div>


  <div class="nav-buttons" *ngIf="!asGrid">
    <button class="nav prev" type="button" aria-label="Previous" (click)="scroll(-1)">‹</button>
    <button class="nav next" type="button" aria-label="Next" (click)="scroll(1)">›</button>
  </div>
</section>

<div class="lightbox" [class.is-open]="isModalOpen" *ngIf="isModalOpen" (click)="closeModal()">
    <div class="lightbox-content" (click)="$event.stopPropagation()">
        <button class="lightbox-close" aria-label="Close image viewer" (click)="closeModal()">
            &times;
        </button>
        <img [src]="selectedImage!.imageUrl" [alt]="selectedImage!.alt" class="lightbox-image" />
    </div>
</div>